<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GreenCart | Anti-gaspi, local & bas carbone</title>
  <meta name="description" content="GreenCart ‚Äî Marketplace anti-gaspi : produits locaux, √©conomies et impact CO‚ÇÇ mesur√©." />
  <link rel="icon" href="/favicon.ico" />
  <!-- Styles -->
  <link rel="stylesheet" href="./assets/css/style.css?v=16" />
</head>

<body>
  <!-- ===== HEADER ===== -->
  <header class="site-header">
    <div class="container nav">
      <!-- Colonne gauche : marque -->
      <div class="brand">
        <img src="./assets/img/logo.png" alt="Logo GreenCart" class="logo" />
        <a href="#" class="brand-name">GreenCart</a>
      </div>

      <!-- Colonne centre : navigation -->
      <nav class="navlinks" role="navigation" aria-label="Navigation principale">
        <a href="#produits">Produits</a>
        <a href="#valeurs">Nos atouts</a>
        <a href="#catalogue">Catalogue</a>
        <a href="#dashboard">Mon impact</a>
        <a href="#producteurs">Producteurs</a>
      </nav>

      <!-- Colonne droite : actions -->
      <div class="nav-actions">
        <button class="btn" id="btn-cart">üõí Mon panier (<span id="cart-count">0</span>)</button>
        <button class="btn btn--ghost" id="btn-login">Se connecter</button>
        <button class="btn btn--primary" id="btn-register">Cr√©er un compte</button>
      </div>
    </div>
  </header>

  <!-- ===== MAIN ===== -->
  <main class="container">
    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-overlay">
        <div class="badge">üåç Anti-gaspi ‚Ä¢ Local ‚Ä¢ Bas carbone</div>
        <h1 id="hero-title">
          La marketplace qui transforme les surplus en √©conomies ‚Äî pour vous et pour la plan√®te.
        </h1>
        <p>
          GreenCart connecte consommateurs et producteurs locaux pour √©couler les invendus, r√©duire le CO‚ÇÇ, et payer moins cher. Suivez votre impact en temps r√©el.
        </p>
        <div class="cta">
          <button class="btn btn--primary" onclick="scrollToId('catalogue')">D√©couvrir le catalogue</button>
          <button class="btn" onclick="scrollToId('valeurs')">Voir nos atouts</button>
        </div>
        <div class="kpis" aria-label="Chiffres cl√©s">
          <div class="kpi"><strong id="kpi-co2">0</strong><span>kg CO‚ÇÇ √©vit√©s</span></div>
          <div class="kpi"><strong id="kpi-euros">0‚Ç¨</strong><span>d'√©conomies r√©alis√©es</span></div>
          <div class="kpi"><strong id="kpi-producteurs">0</strong><span>producteurs partenaires</span></div>
        </div>
      </div>
    </section>

    <!-- VALEURS -->
    <section id="valeurs" class="section">
      <h2>Nos atouts diff√©renciateurs</h2>
      <div class="grid cards-3">
        <article class="card">
          <h3>Anti-gaspi, pour de vrai</h3>
          <p class="muted">Nous priorisons les invendus / surplus certifi√©s par les producteurs, avec une tra√ßabilit√© simple pour prouver l'impact.</p>
        </article>
        <article class="card">
          <h3>Local & juste</h3>
          <p class="muted">Cartographie par r√©gion et r√©mun√©ration √©quitable des producteurs. Les frais sont transparents.</p>
        </article>
        <article class="card">
          <h3>Empreinte CO‚ÇÇ visible</h3>
          <p class="muted">Chaque produit affiche une estimation de CO‚ÇÇ √©vit√© si achet√© en anti-gaspi plut√¥t qu'en circuit classique.</p>
        </article>
      </div>
    </section>

    <!-- PRODUITS EN AVANT -->
    <section id="produits" class="section">
      <div class="banner">
        <div>
          <h2>Anti-gaspi ‚Äî Exemples du moment</h2>
          <p class="muted">Donn√©es de d√©monstration pour la soutenance. Les prix et stocks sont simul√©s.</p>
        </div>
        <button class="btn" onclick="scrollToId('catalogue')">Parcourir tout le catalogue</button>
      </div>
      <div class="grid cards-3" id="featured"></div>
    </section>

    <!-- CATALOGUE -->
    <section id="catalogue" class="section">
      <h2>Catalogue</h2>
      <div class="filters" aria-label="Filtres de catalogue">
        <select class="select" id="f-cat" aria-label="Cat√©gorie">
          <option value="">Cat√©gorie ‚Äî toutes</option>
        </select>
        <select class="select" id="f-region" aria-label="R√©gion">
          <option value="">R√©gion ‚Äî toutes</option>
        </select>
        <select class="select" id="f-dispo" aria-label="Disponibilit√©">
          <option value="">Disponibilit√©</option>
          <option value="surplus">Surplus</option>
          <option value="normal">Normal</option>
        </select>
        <input class="input" id="f-q" placeholder="Rechercher‚Ä¶ (ex: pommes)" />
        <button class="btn" id="btn-reset">R√©initialiser</button>
      </div>
      <div class="grid cards-3" id="catalog-grid" aria-live="polite"></div>
    </section>

    <!-- TABLEAU DE BORD -->
    <section id="dashboard" class="section">
      <h2>Mon impact (d√©mo)</h2>
      <div class="cols">
        <div class="card">
          <h3>R√©sum√©</h3>
          <table class="table">
            <tr><th>Commandes</th><td id="dash-orders">0</td></tr>
            <tr><th>CO‚ÇÇ √©vit√©</th><td id="dash-co2">0 kg</td></tr>
            <tr><th>√âconomies</th><td id="dash-money">0 ‚Ç¨</td></tr>
          </table>
          <p class="muted">Ces donn√©es sont des exemples pour la d√©mo. Apr√®s connexion, elles seront aliment√©es par vos achats r√©els.</p>
        </div>
        <div class="card">
          <h3>Badge anti-gaspi</h3>
          <p class="muted">D√©bloquez un badge lorsque vous d√©passez 25 kg de CO‚ÇÇ √©vit√©s.</p>
          <div class="badge">üèÖ Explorateur anti-gaspi</div>
        </div>
      </div>
    </section>

    <!-- PRODUCTEURS -->
    <section id="producteurs" class="section">
      <h2>Espace Producteur</h2>
      <div class="banner">
        <div>
          <p class="muted">Publiez vos lots en surplus en 2 minutes, fixez vos prix, recevez des commandes, suivez vos paiements.</p>
        </div>
        <div>
          <button class="btn btn--primary" id="btn-pro">Devenir producteur</button>
        </div>
      </div>
      <div class="grid cards-2">
        <article class="card">
          <h3>Mettre en ligne un lot</h3>
          <p class="muted">Titre, quantit√©, DLC/qualit√©, r√©gion, photos. Pr√©visualisation en direct.</p>
        </article>
        <article class="card">
          <h3>Outils de pr√©vision (IA ‚Äî d√©mo)</h3>
          <p class="muted">Anticipez vos surplus probables les 4 prochaines semaines, pour ajuster vos prix et √©viter la perte.</p>
        </article>
      </div>
    </section>
  </main>

  <!-- ===== MODALES ===== -->

  <!-- FICHE PRODUIT -->
  <div class="modal" id="modal-product" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal__panel">
      <header class="modal__header">
        <h3 id="modal-title">Fiche produit</h3>
        <button class="btn" onclick="closeModal('modal-product')">Fermer</button>
      </header>
      <div id="modal-body"></div>
    </div>
  </div>

  <!-- PANIER (modale corrig√©e) -->
  <div class="modal" id="modal-cart" role="dialog" aria-modal="true" aria-labelledby="cart-title">
    <div class="modal__panel">
      <header class="modal__header">
        <h3 id="cart-title">Mon panier</h3>
        <div style="display:flex; gap:8px; align-items:center">
          <button class="btn btn--ghost" id="btn-empty-cart">Vider</button>
          <button class="btn" onclick="closeModal('modal-cart')">Fermer</button>
        </div>
      </header>

      <!-- Liste d‚Äôarticles du panier (ID attendu par renderCart) -->
      <div id="cart-items"></div>

      <footer style="display:flex;justify-content:space-between;align-items:center;margin-top:12px">
        <strong>Total : <span id="cart-total">0,00 ‚Ç¨</span></strong>
        <button class="btn btn--primary" id="btn-checkout">Passer commande (d√©mo)</button>
      </footer>
    </div>
  </div>

  <!-- MODALES Auth -->
  <div class="modal" id="modal-login" role="dialog" aria-modal="true" aria-labelledby="login-title">
    <div class="modal__panel">
      <header class="modal__header">
        <h3 id="login-title">Se connecter</h3>
        <button class="btn" onclick="closeModal('modal-login')">Fermer</button>
      </header>
      <form class="grid" onsubmit="fakeLogin(event)">
        <input class="input" id="login-email" type="email" placeholder="Email" required />
        <input class="input" id="login-pass" type="password" placeholder="Mot de passe" required />
        <button class="btn btn--primary" type="submit">Connexion (d√©mo)</button>
      </form>
    </div>
  </div>

  <div class="modal" id="modal-register" role="dialog" aria-modal="true" aria-labelledby="register-title">
    <div class="modal__panel">
      <header class="modal__header">
        <h3 id="register-title">Cr√©er un compte</h3>
        <button class="btn" onclick="closeModal('modal-register')">Fermer</button>
      </header>
      <form class="grid" onsubmit="fakeRegister(event)">
        <input class="input" id="reg-name" placeholder="Nom complet" required />
        <input class="input" id="reg-email" type="email" placeholder="Email" required />
        <input class="input" id="reg-pass" type="password" placeholder="Mot de passe" required />
        <button class="btn btn--primary" type="submit">Cr√©er (d√©mo)</button>
      </form>
    </div>
  </div>

  <!-- ===== FOOTER ===== -->
  <footer class="site-footer" role="contentinfo">
    <div class="container footer-grid">
      <section aria-label="√Ä propos">
        <div class="brand" style="margin-bottom:10px">
          <img src="./assets/img/logo.png" alt="Logo GreenCart" class="logo" />
          <strong>GreenCart</strong>
        </div>
        <p class="muted">R√©duire le gaspillage, valoriser le local, afficher l'impact.</p>
        <ul class="socials" aria-label="R√©seaux sociaux" style="display:flex;gap:10px;list-style:none;padding:0;margin:10px 0 0">
          <li><a href="#" aria-label="X">X</a></li>
          <li><a href="#" aria-label="Instagram">Instagram</a></li>
          <li><a href="#" aria-label="LinkedIn">LinkedIn</a></li>
        </ul>
      </section>

      <section aria-label="Pages">
        <strong>Pages</strong>
        <ul class="footer-links">
          <li><a href="#valeurs">Nos atouts</a></li>
          <li><a href="#catalogue">Catalogue</a></li>
          <li><a href="#dashboard">Mon impact</a></li>
          <li><a href="#producteurs">Producteurs</a></li>
        </ul>
      </section>

      <section aria-label="Mentions l√©gales">
        <strong>L√©gal</strong>
        <ul class="footer-links">
          <li><a href="#" rel="nofollow">Mentions l√©gales</a></li>
          <li><a href="#" rel="nofollow">Conditions d‚Äôutilisation</a></li>
          <li><a href="#" rel="nofollow">Politique de confidentialit√©</a></li>
          <li><a href="#" rel="nofollow">Cookies</a></li>
        </ul>
      </section>

      <section aria-label="Contact">
        <strong>Contact</strong>
        <address class="contact">
          <a href="mailto:hello@greencart.local">hello@greencart.local</a><br/>
          √éle-de-France, France
        </address>
        <p class="muted">Support du lundi au vendredi ‚Äî 9h-18h.</p>
      </section>
    </div>

    <div class="footer-bottom">
      <div class="container" style="display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap">
        <span>¬© <span id="year"></span> GreenCart. Tous droits r√©serv√©s.</span>
        <span class="muted">SIREN 000 000 000 ‚Äî D√©mo.</span>
      </div>
    </div>
  </footer>

  <!-- ===== SCRIPTS ===== -->
  <script src="./assets/js/app.js?v=16"></script>
  <script>
    // Ouvrir la modale Panier au clic (aligne le JS avec la modale)
    document.getElementById('btn-cart')?.addEventListener('click', () => {
      if (typeof renderCart === 'function') renderCart();
      const m = document.getElementById('modal-cart');
      if (m) m.style.display = 'grid';
    });

    // Brancher les actions du panier
    document.getElementById('btn-empty-cart')?.addEventListener('click', () => {
      if (window.CART) { window.CART = []; }
      if (typeof renderCart === 'function') renderCart();
    });
    document.getElementById('btn-checkout')?.addEventListener('click', () => {
      if (typeof simulateCheckout === 'function') simulateCheckout();
    });
  </script>
</body>
</html>
