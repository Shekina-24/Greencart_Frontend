exports.id=476,exports.ids=[476],exports.modules={7221:(e,a,s)=>{Promise.resolve().then(s.bind(s,475))},475:(e,a,s)=>{"use strict";s.d(a,{default:()=>n});var l=s(326),t=s(1609),i=s(2531);function r({experience:e,title:a,description:s,heroAside:i}){return l.jsx("main",{className:"container",style:{display:"grid",gap:"var(--space-12)"},children:l.jsx(t.Z,{filters:e.filters,categories:e.categories,regions:e.regions,products:e.filteredProducts,totalProducts:e.totalProducts,page:e.page,pageSize:e.pageSize,isLoading:e.isLoadingProducts,onFiltersChange:e.setFilters,onPageChange:e.setPage,onAddToCart:e.addToCart,onOpenDetails:e.openProduct})})}function n(e){return l.jsx(i.Z,{initialFilters:e.initialFilters,children:a=>l.jsx(r,{...e,experience:a})})}},1609:(e,a,s)=>{"use strict";s.d(a,{Z:()=>n});var l=s(326),t=s(3333);let i=[{value:"newest",label:"Nouveautes"},{value:"price_asc",label:"Prix croissant"},{value:"price_desc",label:"Prix decroissant"},{value:"dlc_asc",label:"DLC la plus proche"}],r={category:"",region:"",availability:"",query:"",priceMin:null,priceMax:null,dlcMaxDays:null,sort:"newest"};function n({filters:e,categories:a,regions:s,products:n,totalProducts:c,page:o,pageSize:d,isLoading:u,onFiltersChange:p,onPageChange:m,onAddToCart:x,onOpenDetails:h}){let g=Math.max(1,Math.ceil(c/d)),b=(a,s)=>{p({...e,[a]:s})},j=(a,s)=>{let l=""===s?null:Number(s);p({...e,[a]:Number.isFinite(l)?l:null})};return(0,l.jsxs)("section",{id:"catalogue",className:"section",children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-3)"},children:[(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-2)"},children:[l.jsx("h2",{children:"Catalogue national"}),l.jsx("p",{className:"muted",children:"Filtrez par categorie, region, prix ou DLC pour composer un panier responsable."})]}),(0,l.jsxs)("div",{className:"filters","aria-label":"Filtres catalogue",style:{rowGap:"var(--space-2)"},children:[(0,l.jsxs)("select",{className:"select","aria-label":"Categorie",value:e.category,onChange:e=>b("category",e.target.value),children:[l.jsx("option",{value:"",children:"Categorie - toutes"}),a.map(e=>l.jsx("option",{value:e,children:e},e))]}),(0,l.jsxs)("select",{className:"select","aria-label":"Region",value:e.region,onChange:e=>b("region",e.target.value),children:[l.jsx("option",{value:"",children:"Region - toutes"}),s.map(e=>l.jsx("option",{value:e,children:e},e))]}),(0,l.jsxs)("select",{className:"select","aria-label":"Disponibilite",value:e.availability,onChange:e=>b("availability",e.target.value),children:[l.jsx("option",{value:"",children:"Disponibilite"}),l.jsx("option",{value:"surplus",children:"Surplus"}),l.jsx("option",{value:"normal",children:"Standard"})]}),l.jsx("input",{className:"input",placeholder:"Rechercher... (ex: pommes)",value:e.query,onChange:e=>b("query",e.target.value)}),l.jsx("input",{className:"input",type:"number",min:0,placeholder:"Prix min (EUR)",value:e.priceMin??"",onChange:e=>j("priceMin",e.target.value)}),l.jsx("input",{className:"input",type:"number",min:0,placeholder:"Prix max (EUR)",value:e.priceMax??"",onChange:e=>j("priceMax",e.target.value)}),l.jsx("input",{className:"input",type:"number",min:0,placeholder:"DLC max (jours)",value:e.dlcMaxDays??"",onChange:e=>j("dlcMaxDays",e.target.value)}),l.jsx("select",{className:"select","aria-label":"Tri",value:e.sort,onChange:e=>b("sort",e.target.value),children:i.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))}),l.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>{p({...r}),m(1)},children:"Reinitialiser"})]}),(0,l.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",gap:"var(--space-2)"},children:[l.jsx("span",{className:"muted",children:u?"Chargement en cours...":`${c} produit${c>1?"s":""}`}),(0,l.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"var(--space-2)"},children:[l.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>{o>1&&m(o-1)},disabled:o<=1||u,children:"Prec."}),(0,l.jsxs)("span",{className:"muted",children:["Page ",o," / ",g]}),l.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>{o<g&&m(o+1)},disabled:o>=g||u,children:"Suiv."})]})]})]}),l.jsx("div",{className:"grid cards-3","aria-live":"polite",children:0===n.length?l.jsx("p",{className:"muted",style:{gridColumn:"1 / -1"},children:u?"Chargement des produits...":"Aucun produit ne correspond aux filtres selectionnes."}):n.map(e=>l.jsx(t.Z,{product:e,onAddToCart:x,onOpenDetails:h},e.id))})]})}},3333:(e,a,s)=>{"use strict";s.d(a,{Z:()=>c});var l=s(326),t=s(9418),i=s(7670),r=s(6226),n=s(434);function c({product:e,onAddToCart:a,onOpenDetails:s}){var c;let o="surplus"===e.availability?{label:"Lot anti-gaspi",className:"badge badge--promo"}:{label:"Producteur local",className:"badge"},d=(c=e.dlcDays)<=3?{label:`DLC ${c} j`,className:"badge badge--alert",message:"DLC proche : pensez a consommer rapidement."}:c<=7?{label:`DLC ${c} j`,className:"badge badge--promo",message:"A consommer cette semaine."}:{label:`DLC ${c} j`,className:"badge badge--impact",message:"DLC confortable : stockez quelques jours."},u=`/produits/${e.slug}`,p="number"==typeof e.stock&&e.stock<=0;return(0,l.jsxs)("article",{className:"card product","aria-label":`Produit ${e.name}`,children:[l.jsx(n.default,{href:u,"aria-label":`Consulter ${e.name}`,children:l.jsx(r.default,{src:e.image,alt:e.name,width:480,height:320,sizes:"(max-width: 900px) 100vw, 320px",className:"product-image"})}),(0,l.jsxs)("div",{className:"product__heading",children:[l.jsx(n.default,{href:u,className:"product__title",children:e.name}),l.jsx("span",{className:o.className,children:o.label})]}),l.jsx("div",{className:"product__meta",children:(0,l.jsxs)("span",{children:[e.category," - ",e.region," - ",e.unit]})}),(0,l.jsxs)("div",{className:"product__pricing",children:[(0,l.jsxs)("strong",{children:[e.price.toFixed(2)," EUR"]}),(0,l.jsxs)("div",{className:"product__impact",children:[l.jsx(t.Z,{size:16,strokeWidth:1.5,"aria-hidden":!0}),l.jsx("span",{children:function(e){let a=null!=e.impactCo2Grams?e.impactCo2Grams:Math.max(0,Math.round(1e3*e.co2Saved));return a>=1e3?`${(a/1e3).toFixed(1)} kg CO2e evites`:`${a} g CO2e evites`}(e)})]}),"number"==typeof e.stock?(0,l.jsxs)("span",{className:"muted",style:{fontSize:"var(--fs-small)"},children:["Stock: ",e.stock>0?e.stock:0]}):null]}),(0,l.jsxs)("div",{className:"product__details",children:[(0,l.jsxs)("div",{className:"product__dlc",children:[(0,l.jsxs)("div",{className:"product__dlc-label",children:[l.jsx(i.Z,{size:16,strokeWidth:1.5,"aria-hidden":!0}),l.jsx("span",{children:d.label})]}),l.jsx("span",{className:d.className,"aria-live":"polite",children:d.message})]}),l.jsx("p",{className:"product__description",children:e.description}),l.jsx(n.default,{href:u,className:"product__link",children:"Voir la fiche complete"})]}),(0,l.jsxs)("div",{className:"product__actions",children:[l.jsx("button",{className:"btn btn--primary",type:"button",onClick:()=>a(e),disabled:p,"aria-disabled":p,title:p?"Rupture de stock":"Ajouter au panier",children:p?"Rupture":"Ajouter au panier"}),l.jsx("button",{className:"btn btn--secondary",type:"button",onClick:()=>s(e),children:"Details rapides"})]})]})}},5890:(e,a,s)=>{"use strict";s.d(a,{Z:()=>l});let l=(0,s(8570).createProxy)(String.raw`C:\New\Greencart\Greencart\components\CataloguePage.tsx#default`)}};