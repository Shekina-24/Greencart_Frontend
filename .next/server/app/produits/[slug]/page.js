(()=>{var e={};e.id=891,e.ids=[891],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},70:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(3011),r(8242),r(5866);var a=r(3191),i=r(8716),s=r(7922),n=r.n(s),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["produits",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3011)),"C:\\New\\Greencart\\Greencart\\app\\produits\\[slug]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8242)),"C:\\New\\Greencart\\Greencart\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\New\\Greencart\\Greencart\\app\\produits\\[slug]\\page.tsx"],u="/produits/[slug]/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/produits/[slug]/page",pathname:"/produits/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5966:(e,t,r)=>{Promise.resolve().then(r.bind(r,4256))},4256:(e,t,r)=>{"use strict";r.d(t,{default:()=>S});var a=r(326),i=r(434),s=r(9102),n=r(5249),o=r(9418),l=r(1266),c=r(9664);let d=(0,c.Z)("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);var u=r(7577),p=r(710),m=r(6226);function g({images:e,alt:t}){let r=(0,u.useMemo)(()=>e.length>0?e:["https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=1200&auto=format&fit=crop"],[e]),[i,s]=(0,u.useState)(0),n=r[Math.min(i,r.length-1)];return(0,a.jsxs)("div",{style:{display:"grid",gap:"var(--space-3)"},children:[a.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:"65%",borderRadius:"var(--radius-lg)",overflow:"hidden",border:"1px solid var(--gc-border)"},children:a.jsx(m.default,{src:n,alt:t,fill:!0,sizes:"(max-width: 900px) 100vw, 640px",style:{objectFit:"cover"}})}),r.length>1?a.jsx("div",{style:{display:"grid",gap:"var(--space-2)",gridTemplateColumns:"repeat(auto-fit, minmax(80px, 1fr))"},children:r.map((e,r)=>a.jsx("button",{type:"button",onClick:()=>s(r),style:{position:"relative",paddingBottom:"70%",borderRadius:"var(--radius-sm)",overflow:"hidden",border:r===i?"2px solid var(--gc-primary)":"1px solid var(--gc-border)",cursor:"pointer"},"aria-label":`Voir l'image ${r+1}`,"aria-pressed":r===i,children:a.jsx(m.default,{src:e,alt:`${t} ${r+1}`,fill:!0,style:{objectFit:"cover"},sizes:"100px",loading:"lazy"})},e))}):null]})}let f=(0,c.Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var h=r(3391),y=r(3632),v=r(2924),x=r(8358);let b={approved:"Publie",pending:"En attente de moderation",rejected:"Rejete"};function j({productId:e,initialReviews:t,totalReviews:r,onRequireAuth:i}){let{user:s}=(0,x.a)(),[n,o]=(0,u.useState)(t),[l,c]=(0,u.useState)(5),[d,p]=(0,u.useState)(""),[m,g]=(0,u.useState)(!1),[j,w]=(0,u.useState)(null),[_,S]=(0,u.useState)(null),[C,k]=(0,u.useState)(!1),[N,P]=(0,u.useState)(t.length<r),[R,M]=(0,u.useState)(t.length),O=(0,u.useMemo)(()=>n.filter(e=>"rejected"!==e.status),[n]),[E,T]=(0,u.useState)(null),[A,F]=(0,u.useState)(5),[q,$]=(0,u.useState)(""),I=async()=>{let t=(0,h.Z6)();if(!t)return null;try{let r=(await (0,v.AU)(t.accessToken,{limit:50,offset:0})).items.find(t=>("paid"===t.status||"completed"===t.status)&&t.lines.some(t=>t.productId===e));return r?r.id:null}catch{return null}},z=async t=>{if(t.preventDefault(),w(null),S(null),!s){i("login");return}let r=(0,h.Z6)();if(!r){i("login");return}g(!0);try{let t=await I(),a=await (0,y.XU)({product_id:e,rating:l,comment:d,order_id:t??void 0},r.accessToken);o(e=>[a,...e]),p(""),c(5),S("approved"===a.status?"Votre avis est publie. Merci !":"Votre avis est en attente de moderation.")}catch(e){if(e instanceof Error){let t=e.payload;if(t&&"object"==typeof t&&"detail"in t){let e=t.detail;w("string"==typeof e?e:"Impossible d'enregistrer votre avis.")}else w(e.message)}else w("Impossible d'enregistrer votre avis.")}finally{g(!1)}},D=e=>{T(e.id),F(e.rating),$(e.comment??"")},L=async()=>{if(!E)return;let t=(0,h.Z6)();if(!t){i("login");return}g(!0),w(null);try{let r=await I(),a=await (0,y.g8)(E,{product_id:e,rating:A,comment:q,order_id:r??void 0},t.accessToken);o(e=>e.map(e=>e.id===a.id?a:e)),T(null),S("approved"===a.status?"Votre avis a \xe9t\xe9 mis \xe0 jour.":"Votre avis \xe9dit\xe9 est en attente de mod\xe9ration.")}catch(e){w("Impossible de mettre \xe0 jour votre avis.")}finally{g(!1)}},G=async e=>{let t=(0,h.Z6)();if(!t){i("login");return}try{await (0,y.i0)(e,t.accessToken),o(t=>t.filter(t=>t.id!==e))}catch{w("Suppression impossible")}},U=async()=>{k(!0);try{let t=await (0,y.O)(e,{limit:20,offset:R});o(e=>[...e,...t.items]);let r=R+t.items.length;M(r),P(r<t.total)}catch{}finally{k(!1)}};return a.jsx("section",{className:"section",id:"avis",children:(0,a.jsxs)("div",{style:{display:"grid",gap:"var(--space-3)"},children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{children:"Avis consommateurs"}),(0,a.jsxs)("p",{className:"muted",children:[O.length," avis publies (sur ",r,"). Les avis sont valides pour limiter les faux retours."]})]}),O.length>0?a.jsx("div",{className:"grid",style:{gap:"var(--space-3)"},children:O.map(e=>(0,a.jsxs)("article",{className:"card",style:{gap:"var(--space-2)"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[(0,a.jsxs)("strong",{children:["Note ",e.rating,"/5"]}),(0,a.jsxs)("span",{className:"muted",style:{fontSize:"var(--fs-small)"},children:[b[e.status]??e.status," - ",new Date(e.createdAt).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric"})]})]}),E===e.id?(0,a.jsxs)("div",{className:"grid",style:{gap:"8px"},children:[a.jsx("div",{className:"input-label",children:"Modifier la note"}),a.jsx("div",{style:{display:"inline-flex",gap:"6px"},children:[1,2,3,4,5].map(e=>a.jsx("button",{type:"button",className:"btn btn--ghost",onClick:()=>F(e),"aria-label":`Choisir ${e} sur 5`,children:a.jsx(f,{size:18,strokeWidth:1.5,fill:e<=A?"currentColor":"transparent"})},e))}),a.jsx("textarea",{className:"textarea",rows:3,value:q,onChange:e=>$(e.target.value)}),(0,a.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[a.jsx("button",{className:"btn btn--primary",type:"button",onClick:L,disabled:m,children:"Enregistrer"}),a.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>T(null),disabled:m,children:"Annuler"})]})]}):(0,a.jsxs)(a.Fragment,{children:[e.comment?a.jsx("p",{children:e.comment}):null,s&&s.id===e.userId?(0,a.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[a.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>D(e),children:"Modifier"}),a.jsx("button",{className:"btn btn--danger",type:"button",onClick:()=>G(e.id),children:"Supprimer"})]}):null]})]},e.id))}):a.jsx("p",{className:"muted",children:"Encore aucun avis publie. Soyez le premier a partager votre retour !"}),N?a.jsx("div",{children:a.jsx("button",{className:"btn btn--ghost",type:"button",onClick:U,disabled:C,children:C?"Chargement...":"Voir plus d' avis"})}):null,(0,a.jsxs)("div",{className:"card",style:{gap:"var(--space-3)"},children:[(0,a.jsxs)("div",{children:[a.jsx("strong",{children:"Laisser un avis"}),a.jsx("p",{className:"muted",children:"Notez votre experience produit (la moderation verifie la presence d'une commande associee)."})]}),(0,a.jsxs)("form",{className:"grid",style:{gap:"var(--space-3)"},onSubmit:z,children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"input-label",children:"Note"}),a.jsx("div",{style:{display:"inline-flex",gap:"6px"},children:[1,2,3,4,5].map(e=>a.jsx("button",{type:"button",className:"btn btn--ghost","aria-label":`Choisir ${e} sur 5`,onClick:()=>c(e),children:a.jsx(f,{size:18,strokeWidth:1.5,fill:e<=l?"currentColor":"transparent"})},e))})]}),(0,a.jsxs)("label",{className:"input-label",children:["Commentaire (optionnel)",a.jsx("textarea",{className:"textarea",placeholder:"Partagez les points positifs et les ameliorations possibles.",value:d,onChange:e=>p(e.target.value),rows:4,maxLength:1e3})]}),j?a.jsx("p",{style:{color:"var(--gc-danger)",margin:0,fontSize:"var(--fs-small)"},children:j}):null,_?a.jsx("p",{style:{color:"var(--gc-success)",margin:0,fontSize:"var(--fs-small)"},children:_}):null,(0,a.jsxs)("div",{style:{display:"flex",gap:"var(--space-2)",flexWrap:"wrap"},children:[a.jsx("button",{className:"btn btn--primary",type:"submit",disabled:m,children:m?"Envoi en cours...":"Publier mon avis"}),s?null:a.jsx("button",{className:"btn btn--ghost",type:"button",onClick:()=>i("login"),children:"Se connecter"})]})]})]})]})})}var w=r(2531);function _({product:e,reviews:t,reviewsTotal:r,experience:c}){let m=(0,u.useMemo)(()=>e.images&&e.images.length>0?e.images.slice().sort((e,t)=>Number(t.isPrimary)-Number(e.isPrimary)).map(e=>e.url):[e.image],[e.images,e.image]);return(0,a.jsxs)("main",{className:"container",style:{display:"grid",gap:"var(--space-12)"},children:[a.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org/","@type":"Product",name:e.name,description:e.description,image:e.images&&e.images.length>0?e.images.map(e=>e.url):[e.image],category:e.category,offers:{"@type":"Offer",priceCurrency:"EUR",price:(e.promoPriceCents??e.priceCents??Math.round(100*e.price))/100,availability:"number"==typeof e.stock&&e.stock<=0?"https://schema.org/OutOfStock":"https://schema.org/InStock"}})}}),(0,a.jsxs)("nav",{"aria-label":"Fil d'ariane",style:{fontSize:"var(--fs-small)"},children:[a.jsx(i.default,{className:"muted",href:"/catalogue",children:"Retour au catalogue"})," / ",a.jsx("span",{children:e.name})]}),a.jsx("section",{className:"section",children:(0,a.jsxs)("div",{className:"grid",style:{gap:"var(--space-6)",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))"},children:[a.jsx(g,{images:m,alt:e.name}),(0,a.jsxs)("div",{style:{display:"grid",gap:"var(--space-4)"},children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"badge badge--impact",children:"Impact mesure"}),a.jsx("h1",{style:{marginTop:"var(--space-2)"},children:e.name}),(0,a.jsxs)("p",{className:"muted",children:[e.category," - ",e.region]})]}),(0,a.jsxs)("div",{className:"card",style:{gap:"var(--space-3)"},children:[(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-2)"},children:[(0,a.jsxs)("strong",{style:{fontSize:"1.75rem"},children:[null!=e.promoPriceCents?(e.promoPriceCents/100).toFixed(2):null!=e.priceCents?(e.priceCents/100).toFixed(2):e.price.toFixed(2)," EUR"]}),null!=e.promoPriceCents?(0,a.jsxs)("span",{className:"muted",style:{textDecoration:"line-through"},children:[(e.priceCents??100*e.price)/100," EUR"]}):null,a.jsx("p",{children:e.description})]}),(0,a.jsxs)("div",{style:{display:"grid",gap:"var(--space-2)"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[a.jsx(s.Z,{size:18,strokeWidth:1.5,"aria-hidden":!0}),a.jsx("span",{children:e.unit})]}),e.origin?(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[a.jsx(n.Z,{size:18,strokeWidth:1.5,"aria-hidden":!0}),a.jsx("span",{children:e.origin})]}):null,(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[a.jsx(o.Z,{size:18,strokeWidth:1.5,"aria-hidden":!0}),a.jsx("span",{children:function(e){let t=null!=e.impactCo2Grams?e.impactCo2Grams:Math.max(0,Math.round(1e3*e.co2Saved));return t>=1e3?`${(t/1e3).toFixed(1)} kg CO2e evites`:`${t} g CO2e evites`}(e)})]}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[a.jsx(l.Z,{size:18,strokeWidth:1.5,"aria-hidden":!0}),(0,a.jsxs)("span",{children:["DLC cible : ",e.dlcDays," jour",e.dlcDays>1?"s":""]})]}),"number"==typeof e.stock?(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[a.jsx(d,{size:18,strokeWidth:1.5,"aria-hidden":!0}),(0,a.jsxs)("span",{children:[e.stock," unite",e.stock>1?"s":""," disponibles"]})]}):null]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"var(--space-2)",flexWrap:"wrap"},children:[a.jsx("button",{className:"btn btn--primary",type:"button",onClick:()=>{(0,p.Kc)({id:e.id,name:e.name,quantity:1,priceCents:e.priceCents??e.promoPriceCents??null}),c.addToCart(e)},disabled:"number"==typeof e.stock&&e.stock<=0,"aria-disabled":"number"==typeof e.stock&&e.stock<=0,children:"number"==typeof e.stock&&e.stock<=0?"Rupture":"Ajouter au panier"}),a.jsx("button",{className:"btn btn--secondary",type:"button",onClick:c.openCart,children:"Voir mon panier"})]})]})]})]})}),a.jsx(j,{productId:e.id,initialReviews:t,totalReviews:r,onRequireAuth:c.openAuthModal})]})}function S({product:e,reviews:t,reviewsTotal:r}){return a.jsx(w.Z,{children:i=>a.jsx(_,{product:e,reviews:t,reviewsTotal:r,experience:i})})}},3632:(e,t,r)=>{"use strict";r.d(t,{O:()=>i,XU:()=>s,g8:()=>n,i0:()=>o});var a=r(6824);async function i(e,t={}){let r=await (0,a.S)(`/reviews/product/${e}`,{params:{limit:t.limit??20,offset:t.offset??0}});return{items:r.items.map(l),total:r.total,limit:r.limit,offset:r.offset}}async function s(e,t){return l(await (0,a.S)("/reviews",{method:"POST",body:JSON.stringify({product_id:e.product_id,rating:e.rating,comment:e.comment??null,order_id:e.order_id??null}),authToken:t}))}async function n(e,t,r){return l(await (0,a.S)(`/reviews/${e}`,{method:"PATCH",body:JSON.stringify({product_id:t.product_id,rating:t.rating,comment:t.comment??null,order_id:t.order_id??null}),authToken:r}))}async function o(e,t){await (0,a.S)(`/reviews/${e}`,{method:"DELETE",authToken:t})}function l(e){return{id:e.id,productId:e.product_id,userId:e.user_id,rating:e.rating,comment:e.comment,status:e.status,createdAt:e.created_at,publishedAt:e.published_at,moderationNotes:e.moderation_notes}}},3011:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y,generateMetadata:()=>h,generateStaticParams:()=>f});var a=r(9510),i=r(8585);let s=(0,r(8570).createProxy)(String.raw`C:\New\Greencart\Greencart\components\ProductPage.tsx#default`);var n=r(687),o=r(1171),l=r(7591);async function c(e={}){let t={q:e.query,category:e.category,region:e.region,dlc_lte_days:e.dlcWithinDays,price_min:e.priceMin,price_max:e.priceMax,limit:e.limit,offset:e.offset,sort:e.sort};try{let e=await (0,n.S)("/products",{params:t});return{items:e.items.map(p),total:e.total,limit:e.limit,offset:e.offset}}catch(t){console.warn("[products] falling back to local mock data",t);let e=l.b;return{items:e,total:e.length,limit:e.length,offset:0}}}async function d(e){try{let t=await (0,n.S)(`/products/${e}`);return p(t)}catch(e){if(e instanceof Error&&"status"in e&&404===e.status)return null;throw e}}async function u(e){let t=function(e){let[t]=e.split("-"),r=Number(t);return Number.isFinite(r)?r:null}(e);return t?d(t):null}function p(e){var t;let r=e.images.length>0?e.images:[],a=r.find(e=>e.is_primary)?.url??r[0]?.url??"https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=1200&auto=format&fit=crop";return{id:e.id,slug:(0,o.l)(`${e.id}-${e.title}`),name:e.title,price:Math.round(e.promo_price_cents??e.price_cents)/100,region:e.region??"France",category:e.category??"Autres",availability:e.stock>0?"normal":"surplus",co2Saved:null==(t=e.impact_co2_g)?0:Math.max(Math.round(t)/1e3,0),dlcDays:function(e){if(!e)return 0;let t=new Date;return Math.max(Math.ceil((new Date(e).getTime()-t.setHours(0,0,0,0))/864e5),0)}(e.dlc_date),unit:e.origin??"Unite",image:a,description:e.description??"",images:r.map(e=>({url:e.url,isPrimary:e.is_primary})),origin:e.origin,stock:e.stock,status:e.status,isPublished:e.is_published,impactCo2Grams:e.impact_co2_g,priceCents:e.price_cents,promoPriceCents:e.promo_price_cents}}async function m(e,t={}){let r=await (0,n.S)(`/reviews/product/${e}`,{params:{limit:t.limit??20,offset:t.offset??0}});return{items:r.items.map(g),total:r.total,limit:r.limit,offset:r.offset}}function g(e){return{id:e.id,productId:e.product_id,userId:e.user_id,rating:e.rating,comment:e.comment,status:e.status,createdAt:e.created_at,publishedAt:e.published_at,moderationNotes:e.moderation_notes}}async function f(){try{let{items:e}=await c({limit:50});return e.map(e=>({slug:e.slug}))}catch{return[]}}async function h({params:e}){let t=await u(e.slug);if(!t)return{title:"Produit introuvable | GreenCart",description:"Le lot recherche n'existe plus ou a ete retire du catalogue."};let r=t.description??`Lot ${t.category} disponible en ${t.region}. Impact carbone evite : ${t.co2Saved.toFixed(1)} kg CO2e.`;return{title:`${t.name} | GreenCart`,description:r,alternates:{canonical:`/produits/${t.slug}`},openGraph:{title:t.name,description:r,type:"website",url:`/produits/${t.slug}`,images:t.images&&t.images.length>0?t.images.map(e=>({url:e.url,alt:t.name})):[{url:t.image,alt:t.name}]}}}async function y({params:e}){let t=await u(e.slug);t||(0,i.notFound)();let r={items:[],total:0};try{let e=await m(t.id,{limit:50});r={items:e.items,total:e.total}}catch(e){console.error("[ProductDetailRoute] Unable to load reviews",e)}return a.jsx(s,{product:t,reviews:r.items,reviewsTotal:r.total})}},7591:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});let a=[{id:1,slug:"pommes-moches-5-kg",name:"Pommes moches (5 kg)",price:6.5,region:"Ile-de-France",category:"Fruits",availability:"surplus",co2Saved:2.1,dlcDays:6,unit:"Colis 5 kg",image:"https://images.unsplash.com/photo-1576402187878-974f70c890a5?q=80&w=1200&auto=format&fit=crop",description:"Pommes hors calibre issues d'une recolte locale. Ideales pour compotes, jus et patisseries anti-gaspi."},{id:2,slug:"legumes-varies-b-4-kg",name:"Legumes varies B (4 kg)",price:7.9,region:"Hauts-de-France",category:"Legumes",availability:"surplus",co2Saved:2.9,dlcDays:4,unit:"Panier 4 kg",image:"https://images.unsplash.com/photo-1515542706656-8e6ef17a1521?q=80&w=1200&auto=format&fit=crop",description:"Panier de legumes biscornus recoltes le matin meme. Varietes adapteees aux soupes et poelees familiales."},{id:3,slug:"yaourts-fermiers-x12",name:"Yaourts fermiers (x12)",price:5.5,region:"Bretagne",category:"Cremerie",availability:"normal",co2Saved:.6,dlcDays:3,unit:"Lot x12",image:"https://images.unsplash.com/photo-1551024601-bec78aea704b?q=80&w=1200&auto=format&fit=crop",description:"Yaourts nature au lait entier, texture genereuse. Date courte mais qualite garantie par la ferme."},{id:4,slug:"pains-de-la-veille-x4",name:"Pains de la veille (x4)",price:2,region:"Ile-de-France",category:"Boulangerie",availability:"surplus",co2Saved:1.2,dlcDays:1,unit:"Lot x4",image:"https://images.unsplash.com/photo-1549931319-a545dcf3bc73?q=80&w=1200&auto=format&fit=crop",description:"Pains tradition de la veille, croustillants apres quelques minutes au four. Emballage compostable."},{id:5,slug:"tomates-irregulieres-3-kg",name:"Tomates irregulieres (3 kg)",price:4.9,region:"Provence-Alpes-Cote d'Azur",category:"Legumes",availability:"surplus",co2Saved:2.3,dlcDays:5,unit:"Cagette 3 kg",image:"https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?q=80&w=1200&auto=format&fit=crop",description:"Tomates anciennes aux formes originales. Saveur ensoleillee, parfaites en salade ou en sauce."},{id:6,slug:"fromage-de-chevre-demi-sec",name:"Fromage de chevre demi-sec",price:3.9,region:"Auvergne-Rhone-Alpes",category:"Cremerie",availability:"normal",co2Saved:.4,dlcDays:10,unit:"Unite 250 g",image:"https://images.unsplash.com/photo-1505575972945-2804b5c35f33?q=80&w=1200&auto=format&fit=crop",description:"Fromage de chevre demi-sec affine 10 jours. Gout franc, lait issu d'un elevage extensif."}]},687:(e,t,r)=>{"use strict";r.d(t,{S:()=>i,r:()=>n});let a="http://localhost:8000".replace(/\/+$/,"");async function i(e,t={}){let{params:r,authToken:i,headers:n,next:o,cache:l,...c}=t,d=function(e,t){let r=new URL(`/api/v1${e}`,a);return t&&Object.entries(t).filter(([,e])=>null!=e&&""!==e).forEach(([e,t])=>r.searchParams.set(e,String(t))),r}(e,r),u=(c.method??"GET").toString().toUpperCase(),p="GET"===u,m=o??(!i&&p?{revalidate:300}:void 0),g=await fetch(d,{...c,method:u,headers:{"Content-Type":"application/json",...i?{Authorization:`Bearer ${i}`}:{},...n??{}},cache:l??(i||!p?"no-store":void 0),...m?{next:m}:{}});if(!g.ok){let e=await s(g),t=Error(`API request failed with ${g.status} ${g.statusText}`);throw t.status=g.status,t.payload=e,t}return await s(g)}async function s(e){let t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return t}}function n(){return a}},1171:(e,t,r)=>{"use strict";function a(e){return e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}r.d(t,{l:()=>a})},8585:(e,t,r)=>{"use strict";var a=r(1085);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}})},1085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return n},RedirectType:function(){return a.RedirectType},notFound:function(){return i.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=r(3953),i=r(6399);class s extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class n extends URLSearchParams{append(){throw new s}delete(){throw new s}set(){throw new s}sort(){throw new s}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return i},notFound:function(){return a}});let r="NEXT_NOT_FOUND";function a(){let e=Error(r);throw e.digest=r,e}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3953:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return a},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return g},getRedirectTypeFromError:function(){return m},getURLFromRedirectError:function(){return p},isRedirectError:function(){return u},permanentRedirect:function(){return d},redirect:function(){return c}});let i=r(4580),s=r(2934),n=r(8586),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let a=Error(o);a.digest=o+";"+t+";"+e+";"+r+";";let s=i.requestAsyncStorage.getStore();return s&&(a.mutableCookies=s.mutableCookies),a}function c(e,t){void 0===t&&(t="replace");let r=s.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?n.RedirectStatusCode.SeeOther:n.RedirectStatusCode.TemporaryRedirect)}function d(e,t){void 0===t&&(t="replace");let r=s.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?n.RedirectStatusCode.SeeOther:n.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,a,i]=e.digest.split(";",4),s=Number(i);return t===o&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(s)&&s in n.RedirectStatusCode}function p(e){return u(e)?e.digest.split(";",3)[2]:null}function m(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function g(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1266:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(9664).Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,772,404,424,526,531],()=>r(70));module.exports=a})();