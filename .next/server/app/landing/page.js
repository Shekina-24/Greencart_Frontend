(()=>{var e={};e.id=582,e.ids=[582],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7727:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>f,originalPathname:()=>d,pages:()=>l,routeModule:()=>p,tree:()=>c}),r(5606),r(8242),r(5866);var n=r(3191),a=r(8716),i=r(7922),o=r.n(i),s=r(5231),u={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>s[e]);r.d(t,u);let c=["",{children:["landing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5606)),"C:\\New\\Greencart\\Greencart\\app\\landing\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8242)),"C:\\New\\Greencart\\Greencart\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\New\\Greencart\\Greencart\\app\\landing\\page.tsx"],d="/landing/page",f={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/landing/page",pathname:"/landing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1886:(e,t,r)=>{Promise.resolve().then(r.bind(r,9045))},8474:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5303:()=>{},9045:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r(326),a=r(8358),i=r(2716),o=r(7577);function s(){let[e,t]=(0,o.useState)(()=>!1);return(0,o.useRef)(!1),null}function u(){let[e,t]=(0,o.useState)(!1),r=(0,o.useCallback)(e=>{t(!1)},[]);return e?n.jsx("div",{role:"dialog","aria-live":"polite",className:"card",style:{position:"fixed",bottom:16,left:16,right:16,maxWidth:720,margin:"0 auto",zIndex:1e3},children:(0,n.jsxs)("div",{style:{display:"grid",gap:"8px"},children:[n.jsx("strong",{children:"Cookies d'analyse (GTM/GA)"}),n.jsx("p",{className:"muted",style:{margin:0},children:"Nous utilisons des cookies d'analyse pour comprendre l'usage et am\xe9liorer GreenCart. Vous pouvez accepter ou refuser."}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",flexWrap:"wrap"},children:[n.jsx("button",{className:"btn",type:"button",onClick:()=>r("denied"),children:"Refuser"}),n.jsx("button",{className:"btn btn--primary",type:"button",onClick:()=>r("granted"),children:"Accepter"})]})]})}):null}function c({children:e}){return n.jsx(a.H,{children:(0,n.jsxs)(i.V,{children:[n.jsx(s,{}),n.jsx(u,{}),e]})})}},2716:(e,t,r)=>{"use strict";r.d(t,{V:()=>o,p:()=>s});var n=r(326),a=r(7577);let i=(0,a.createContext)(void 0);function o({children:e}){let[t,r]=(0,a.useState)([]),o=(0,a.useCallback)((e,t="info",n=3e3)=>{let a=`${Date.now()}-${Math.random()}`;r(r=>[...r,{id:a,message:e,type:t,timeoutMs:n}]),window.setTimeout(()=>{r(e=>e.filter(e=>e.id!==a))},n)},[]),s=(0,a.useMemo)(()=>({showToast:o}),[o]);return(0,n.jsxs)(i.Provider,{value:s,children:[e,n.jsx("div",{style:{position:"fixed",right:16,bottom:16,display:"grid",gap:"8px",zIndex:1e3},"aria-live":"polite","aria-atomic":!0,children:t.map(e=>n.jsx("div",{className:`alert ${"success"===e.type?"alert--success":"warning"===e.type?"alert--warning":"error"===e.type?"alert--warning":""}`,role:"status",children:e.message},e.id))})]})}function s(){let e=(0,a.useContext)(i);if(!e)throw Error("useToast must be used within ToastProvider");return e}},8358:(e,t,r)=>{"use strict";r.d(t,{H:()=>m,a:()=>h});var n=r(326),a=r(7577),i=r(5047),o=r(3391),s=r(6824);async function u(e){let t=await (0,s.S)("/auth/login",{method:"POST",body:JSON.stringify(e)});return(0,o.XC)({accessToken:t.access_token,refreshToken:t.refresh_token}),{user:await d(t.access_token),tokens:{accessToken:t.access_token,refreshToken:t.refresh_token}}}async function c(e){let t={email:e.email,password:e.password,role:e.role??"consumer",first_name:e.firstName,last_name:e.lastName,region:e.region,consent_newsletter:e.consentNewsletter??!1,consent_analytics:e.consentAnalytics??!1};return f(await (0,s.S)("/auth/register",{method:"POST",body:JSON.stringify(t)}))}async function l(e){let t=await (0,s.S)("/auth/refresh",{method:"POST",body:JSON.stringify({refresh_token:e})});return(0,o.XC)({accessToken:t.access_token,refreshToken:t.refresh_token}),{accessToken:t.access_token,refreshToken:t.refresh_token}}async function d(e){return f(await (0,s.S)("/auth/me",{authToken:e}))}function f(e){return{id:e.id,email:e.email,role:e.role,firstName:e.first_name,lastName:e.last_name,region:e.region,isActive:e.is_active,emailVerifiedAt:e.email_verified_at,lastLoginAt:e.last_login_at,consentNewsletter:e.consent_newsletter,consentAnalytics:e.consent_analytics,createdAt:e.created_at,updatedAt:e.updated_at}}let p=(0,a.createContext)(void 0);function m({children:e}){let[t,r]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),d=(0,i.useRouter)(),f=(0,a.useCallback)(async e=>{try{let t=await u(e);return r(t.user),{success:!0}}catch(e){return{success:!1,error:g(e)}}},[]),m=(0,a.useCallback)(async e=>{try{await c(e);let t=await f({email:e.email,password:e.password});if(!t.success)return t;return{success:!0}}catch(e){return{success:!1,error:g(e)}}},[f]),h=(0,a.useCallback)(()=>{(0,o.ZP)(),r(null);try{d.push("/landing")}catch{}},[d]),b=(0,a.useCallback)(async()=>{let e=(0,o.Z6)();if(e)try{let t=await y(e);r(t)}catch{}},[]),v=(0,a.useMemo)(()=>({user:t,isAuthenticating:s,login:f,register:m,logout:h,reloadUser:b}),[t,s,f,m,h,b]);return n.jsx(p.Provider,{value:v,children:e})}function h(){let e=(0,a.useContext)(p);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}async function y(e){try{return await d(e.accessToken)}catch(t){return d((await l(e.refreshToken)).accessToken)}}function g(e){if(e&&"object"==typeof e&&"payload"in e){let t=e.payload;if("string"==typeof t)return t;if(t&&"object"==typeof t&&"detail"in t){let e=t.detail;if("string"==typeof e)return e;if(Array.isArray(e)&&e.length>0)return String(e[0])}}return e instanceof Error?e.message:"Une erreur est survenue. Merci de reessayer."}},6824:(e,t,r)=>{"use strict";r.d(t,{S:()=>a,r:()=>o});let n="http://localhost:8000".replace(/\/+$/,"");async function a(e,t={}){let{params:r,authToken:a,headers:o,next:s,cache:u,...c}=t,l=function(e,t){let r=new URL(`/api/v1${e}`,n);return t&&Object.entries(t).filter(([,e])=>null!=e&&""!==e).forEach(([e,t])=>r.searchParams.set(e,String(t))),r}(e,r),d=(c.method??"GET").toString().toUpperCase(),f="GET"===d,p=s??(!a&&f?{revalidate:300}:void 0),m=await fetch(l,{...c,method:d,headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{},...o??{}},cache:u??(a||!f?"no-store":void 0),...p?{next:p}:{}});if(!m.ok){let e=await i(m),t=Error(`API request failed with ${m.status} ${m.statusText}`);throw t.status=m.status,t.payload=e,t}return await i(m)}async function i(e){let t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return t}}function o(){return n}},3391:(e,t,r)=>{"use strict";function n(e){}function a(){return null}function i(){}r.d(t,{XC:()=>n,Z6:()=>a,ZP:()=>i})},5606:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(8585);function a(){(0,n.redirect)("/")}},8242:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s,metadata:()=>o});var n=r(9510);let a=(0,r(8570).createProxy)(String.raw`C:\New\Greencart\Greencart\components\Providers.tsx#default`);r(7272);let i="GreenCart connecte consommateurs et producteurs pour valoriser les invendus, reduire le gaspillage alimentaire et suivre l'impact carbone des achats.",o={title:{default:"GreenCart | Anti-gaspi, local & bas carbone",template:"%s | GreenCart"},description:i,alternates:{canonical:"/"},openGraph:{title:"GreenCart | Anti-gaspi, local & bas carbone",description:i,type:"website",url:"/"},twitter:{card:"summary_large_image",title:"GreenCart | Anti-gaspi, local & bas carbone",description:i}};function s({children:e}){return n.jsx("html",{lang:"fr",children:n.jsx("body",{children:n.jsx(a,{children:e})})})}},8585:(e,t,r)=>{"use strict";var n=r(1085);r.o(n,"notFound")&&r.d(t,{notFound:function(){return n.notFound}}),r.o(n,"redirect")&&r.d(t,{redirect:function(){return n.redirect}})},1085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return o},RedirectType:function(){return n.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=r(3953),a=r(6399);class i extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class o extends URLSearchParams{append(){throw new i}delete(){throw new i}set(){throw new i}sort(){throw new i}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return n}});let r="NEXT_NOT_FOUND";function n(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3953:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return u},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return f},isRedirectError:function(){return d},permanentRedirect:function(){return l},redirect:function(){return c}});let a=r(4580),i=r(2934),o=r(8586),s="NEXT_REDIRECT";function u(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let n=Error(s);n.digest=s+";"+t+";"+e+";"+r+";";let i=a.requestAsyncStorage.getStore();return i&&(n.mutableCookies=i.mutableCookies),n}function c(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw u(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.TemporaryRedirect)}function l(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw u(e,t,(null==r?void 0:r.isAction)?o.RedirectStatusCode.SeeOther:o.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,n,a]=e.digest.split(";",4),i=Number(a);return t===s&&("replace"===r||"push"===r)&&"string"==typeof n&&!isNaN(i)&&i in o.RedirectStatusCode}function f(e){return d(e)?e.digest.split(";",3)[2]:null}function p(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[948,772],()=>r(7727));module.exports=n})();