(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{3749:function(e,s,a){Promise.resolve().then(a.bind(a,8120))},8120:function(e,s,a){"use strict";a.d(s,{default:function(){return p}});var n=a(7437),t=a(7648),l=a(2265),c=a(4730),i=a(8822),r=a(2755),d=a(1741);function o(e,s){return"".concat((e/100).toFixed(2)," ").concat(s)}function u(e){let{orderId:s}=e,{user:a}=(0,c.a)(),[d,u]=(0,l.useState)(null),[p,h]=(0,l.useState)(!1),[m,x]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(!a)return;let e=(0,i.Z6)();e&&(h(!0),x(null),(0,r.G7)(e.accessToken,s).then(e=>u(e)).catch(()=>x("Impossible de charger cette commande.")).finally(()=>h(!1)))},[a,s]),(0,n.jsxs)("main",{className:"container",style:{display:"grid",gap:"var(--space-12)"},children:[(0,n.jsxs)("nav",{"aria-label":"Fil d'ariane",style:{fontSize:"var(--fs-small)"},children:[(0,n.jsx)(t.default,{className:"muted",href:"/compte/commandes",children:"Mes commandes"})," / #".concat(s)]}),(0,n.jsx)("section",{className:"section",children:(0,n.jsxs)("div",{style:{display:"grid",gap:"var(--space-3)"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"badge badge--impact",children:"Commande"}),(0,n.jsxs)("h1",{style:{marginTop:"var(--space-2)"},children:["D\xe9tail commande #",s]})]}),m?(0,n.jsx)("div",{className:"alert alert--warning",children:m}):null,p||!d?(0,n.jsx)("p",{className:"muted",children:"Chargement..."}):(0,n.jsxs)("div",{className:"grid",style:{gap:"var(--space-3)"},children:[(0,n.jsxs)("div",{className:"card",style:{gap:"var(--space-2)"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("strong",{children:"Statut"}),(0,n.jsx)("span",{children:d.status})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("span",{children:"Date"}),(0,n.jsx)("span",{children:new Date(d.createdAt).toLocaleString("fr-FR")})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("span",{children:"Articles"}),(0,n.jsx)("span",{children:d.totalItems})]})]}),(0,n.jsxs)("div",{className:"card",style:{gap:"var(--space-2)"},children:[(0,n.jsx)("strong",{children:"Lignes"}),d.lines.map(e=>(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr",gap:"var(--space-2)"},children:[(0,n.jsx)("span",{children:e.productTitle}),(0,n.jsxs)("span",{className:"muted",children:["x",e.quantity]}),(0,n.jsx)("span",{style:{textAlign:"right"},children:o(e.subtotalCents,d.currency)})]},e.id))]}),(0,n.jsxs)("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsx)("strong",{children:"Total"}),(0,n.jsx)("span",{children:o(d.totalAmountCents,d.currency)})]}),(0,n.jsxs)("div",{className:"muted",style:{fontSize:"var(--fs-small)"},children:["Impact carbone \xe9vit\xe9 : ",(d.totalImpactCo2Grams/1e3).toFixed(1)," kg CO2e"]})]})]})})]})}function p(e){let{orderId:s}=e;return(0,n.jsx)(d.Z,{requireAuth:!0,children:()=>(0,n.jsx)(u,{orderId:s})})}}},function(e){e.O(0,[972,697,741,971,117,744],function(){return e(e.s=3749)}),_N_E=e.O()}]);